{% extends "base.html" %}
{% block title %}Khelo Coach ‚Äì Find Verified Sports Coaches{% endblock %}

{% block content %}

<section class="hero-wrapper" data-reveal>
    <div class="hero-bg"></div>
    <div class="hero">
        <div>
            <div class="hero-highlight">Sports hiring made simple</div>
            <h1 class="hero-heading">
                Find verified coaches for your academies, schools & sports clubs.
            </h1>
            <img src="{{ url_for('static', filename='videos/golf_coach.gif') }}" 
                width="300" 
                class="hero-animation" 
                alt="Golf Coach Animation">

            <p class="hero-subtitle">
                A focused marketplace for sports coaches and recruiters. Compare profiles,
                view experience and hire with confidence.
            </p>

            <div class="hero-cta-row">
                <a href="{{ url_for('coach_listing') }}" class="btn btn-primary">
                    Browse coaches
                </a>
                <a href="{{ url_for('jobs_listing') }}" class="btn btn-ghost">
                    View open jobs
                </a>
            </div>

            <div class="search-wrapper">
    <form class="search-box" method="get" action="{{ url_for('coach_listing') }}">
        <span>üîç</span>
        <input
            type="text"
            name="q"
            placeholder="Search coaches by name, sport, city..."
            value="{{ request.args.get('q', '') }}"
        >
        <button type="submit" class="btn btn-small btn-primary search-btn">
            Search
        </button>
    </form>
</div>


            <div class="hero-stats">
                <span><strong>Dual-sided</strong> ¬∑ Coaches & recruiters</span>
                <span><strong>Structured profiles</strong> ¬∑ Experience, certs, rates</span>
                <span><strong>India-first</strong> ¬∑ Built for local sports</span>
            </div>
        </div>

        <aside class="hero-card hero-card--dynamic" aria-label="Live snapshot">
    <!-- optional hero illustration (right side) -->
    {% if hero_img_url %}
      <div style="text-align:center;margin-bottom:10px;">
        <img src="{{ url_for('static', filename='images/hero.png') }}" 
             alt="Hero illustration" 
             style="max-width:220px; width:100%; border-radius:12px; box-shadow:var(--shadow-soft);">
    </div>
    {% endif %}

    <div class="hero-card-title">Live snapshot</div>
    <p style="font-size:13px;color:#6b7280;margin-top:4px;">Sample data for prototype</p>

    <div style="margin-top:10px;">
        <div style="font-weight:600; margin-bottom:6px;">
            Platform activity
        </div>
        <div style="display:flex; gap:12px; flex-wrap:wrap;">
            <div class="stat-pill">{{ snapshot_total_coaches }} coaches</div>
            <div class="stat-pill">{{ snapshot_total_jobs }} jobs</div>
        </div>
    </div>

    <div style="margin-top:12px;">
        <div style="font-weight:600; margin-bottom:6px;">Top sports</div>
        <div class="hero-card-tags">
            {% if snapshot_sports %}
                {% for tag in snapshot_sports %}
                    <span class="tag-pill">{{ tag }}</span>
                {% endfor %}
            {% else %}
                <span class="tag-pill">No sports yet</span>
            {% endif %}
        </div>
    </div>

    <div style="margin-top:10px;">
        <div style="font-weight:600; margin-bottom:6px;">Top locations</div>
        <div class="hero-card-tags">
            {% if snapshot_locations %}
                {% for tag in snapshot_locations %}
                    <span class="tag-pill">{{ tag }}</span>
                {% endfor %}
            {% else %}
                <span class="tag-pill">No data</span>
            {% endif %}
        </div>
    </div>

    <div style="margin-top:12px;">
        <div style="font-weight:600; margin-bottom:8px;">Recent coaches</div>
        {% if snapshot_recent_coaches %}
            <ul style="list-style:none;padding:0;margin:0;">
                {% for rc in snapshot_recent_coaches %}
                <li style="margin-bottom:8px; display:flex; align-items:center; gap:10px;">
                    <img src="{{ url_for('uploaded_file', filename=rc.photo_filename) if rc.photo_filename else url_for('static', filename='img/avatar-placeholder.png') }}"
                         alt="{{ rc.user.full_name }}" style="width:36px;height:36px;border-radius:50%;object-fit:cover;box-shadow:var(--shadow-mini);">
                    <div style="font-size:13px;">
                        <div style="font-weight:600;">{{ rc.user.full_name }}</div>
                        <div style="color:#6b7280;font-size:12px;">{{ rc.sport }} ¬∑ {{ rc.location }}</div>
                    </div>
                </li>
                {% endfor %}
            </ul>
        {% else %}
            <div style="font-size:13px;color:#6b7280;">No coaches yet ‚Äî ask a coach to sign up.</div>
        {% endif %}
    </div>

    <p style="margin-top:12px;font-size:12px;color:#6b7280;">
        Recruiters get a clean shortlist instead of random WhatsApp forwards.
    </p>
</aside>

    </div>
</section>

<section class="section" data-reveal>
    <div class="section-header">
        <div>
            <h2 class="section-title">Featured coaches</h2>
            <p class="section-subtitle">Sample profiles from the platform.</p>
        </div>
        <a href="{{ url_for('coach_listing') }}" class="btn btn-ghost btn-small">
            View all coaches
        </a>
    </div>

    <div class="card-grid">
        {% for c in featured_coaches %}
        <article class="card">
            <h3>{{ c.user.full_name }}</h3>
            <p>{{ c.sport }} ¬∑ {{ c.location }}</p>
            <p class="card-meta">{{ c.experience_years }} yrs experience</p>
            <div class="card-footer">
                <span style="font-size:12px;color:#6b7280;">
                    {{ c.locations_served or "India" }}
                </span>
                <a href="{{ url_for('coach_profile', coach_id=c.id) }}"
                   class="btn btn-small btn-ghost">View profile</a>
            </div>
        </article>
        {% else %}
        <p style="font-size:13px;color:#6b7280;">
            No coach profiles yet ‚Äì once you add some via DB or sign up, they‚Äôll show here.
        </p>
        {% endfor %}
    </div>
</section>

<section class="section" data-reveal>
    <div class="section-header">
        <div>
            <h2 class="section-title">Recent jobs</h2>
            <p class="section-subtitle">A quick view of the type of roles posted.</p>
        </div>
        <a href="{{ url_for('jobs_listing') }}" class="btn btn-ghost btn-small">
            View all jobs
        </a>
    </div>

    <div class="card-grid">
        {% for j in featured_jobs %}
        <article class="card job-card">
            <h3>{{ j.title }}</h3>
            <p>{{ j.location }}</p>
            <p class="card-meta">{{ j.salary or "Budget on discussion" }}</p>
            <div class="card-footer">
                <span style="font-size:12px;color:#6b7280;">
                    {{ j.sport or "Any sport" }}
                </span>
                <a href="{{ url_for('apply_for_job', job_id=j.id) }}"
                   class="btn btn-small btn-primary">Apply</a>
            </div>
        </article>
        {% else %}
        <p style="font-size:13px;color:#6b7280;">
            No jobs added yet ‚Äì create some in DB or via recruiter account.
        </p>
        {% endfor %}
    </div>
</section>

<section class="section" data-reveal>
    <div class="section-header">
        <div>
            <h2 class="section-title">How Khelo Coach fits in your workflow</h2>
            <p class="section-subtitle">
                Designed for academies, schools and independent coaches.
            </p>
        </div>
    </div>

    <div class="card-grid" style="grid-template-columns: repeat(3, minmax(0, 1fr));">
        <article class="card">
            <h3>1. Structured profiles</h3>
            <p>Coaches create a single profile that clearly lists experience, certifications and rates.</p>
        </article>
        <article class="card">
            <h3>2. Transparent requirements</h3>
            <p>Recruiters post roles with sport, location, salary band and expectations.</p>
        </article>
        <article class="card">
            <h3>3. Direct conversations</h3>
            <p>Once shortlisted, you can take the conversation to email, WhatsApp or your HR process.</p>
        </article>
    </div>
</section>

<!-- Optional video section; add your own mp4 in static/video/demo.mp4 -->
<section class="section" data-reveal>
    <div class="section-header">
        <div>
            <h2 class="section-title">See it in action (30s)</h2>
            <p class="section-subtitle">Short walkthrough for demos.</p>
        </div>
    </div>

    <video src="{{ url_for('static', filename='videos/demo.mp4') }}"
           muted autoplay loop playsinline
           style="width:100%; border-radius:18px; box-shadow:var(--shadow-soft); max-height:360px; object-fit:cover;">
        Your browser does not support the video tag.
    </video>
</section>

{% endblock %}
